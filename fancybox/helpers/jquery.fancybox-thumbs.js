!function(e){var t=e.fancybox;t.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(t){var a;return t.element&&(a=e(t.element).find("img").attr("src")),!a&&"image"===t.type&&t.href&&(a=t.href),a}},wrap:null,list:null,width:0,init:function(t,a){var i,s=this,n=t.width,o=t.height,r=t.source;i="";for(var l=0;l<a.group.length;l++)i+='<li><a style="width:'+n+"px;height:"+o+'px;" href="javascript:jQuery.fancybox.jumpto('+l+');"></a></li>';this.wrap=e('<div id="fancybox-thumbs"></div>').addClass(t.position).appendTo("body"),this.list=e("<ul>"+i+"</ul>").appendTo(this.wrap),e.each(a.group,function(t){var i=a.group[t],l=r(i);l&&e("<img />").load(function(){var a,i,r,l=this.width,d=this.height;s.list&&l&&d&&(a=l/n,i=d/o,r=s.list.children().eq(t).find("a"),a>=1&&i>=1&&(a>i?(l=Math.floor(l/i),d=o):(l=n,d=Math.floor(d/a))),e(this).css({width:l,height:d,top:Math.floor(o/2-d/2),left:Math.floor(n/2-l/2)}),r.width(n).height(o),e(this).hide().appendTo(r).fadeIn(300))}).attr("src",l).attr("title",i.title)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(a.group.length+1)).css("left",Math.floor(.5*e(window).width()-(a.index*this.width+.5*this.width)))},beforeLoad:function(e,t){return t.group.length<2?(t.helpers.thumbs=!1,void 0):(t.margin["top"===e.position?0:2]+=e.height+15,void 0)},afterShow:function(e,t){this.list?this.onUpdate(e,t):this.init(e,t),this.list.children().removeClass("active").eq(t.index).addClass("active")},onUpdate:function(t,a){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*e(window).width()-(a.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery);